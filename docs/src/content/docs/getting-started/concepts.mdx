---
title: Concepts
description: Learn about Terrateam concepts
tableOfContents:
  minHeadingLevel: 1
  maxHeadingLevel: 3
---

## Key Concepts and Terminology
To effectively use Terrateam, it's important to understand its key concepts and terminology. In the following section, we'll explore the core components of Terrateam and how they work together to simplify your infrastructure management workflow.

## Dirspace

At the core of Terrateam is the concept of a Dirspace. It represents a unique blend of a repository, directory, and workspace. It is referred to as a tuple `(repository, directory, workspace)` or simply `(directory, workspace)` when the repository is implied.

Dirspaces are automatically created when Terrateam detects Terraform configurations in your repository. Each directory containing Terraform files forms a Dirspace with either its explicitly configured workspace or the **default workspace** (created automatically when no specific workspace is defined).

#### **Example:**
Consider a repository named `repo` with two directories, `dir1` and `dir2`, and no explicitly configured workspaces. This repository would have two Dirspaces:

| Repository  | Directory | Workspace |
|------------|----------|-----------|
| repo       | dir1     | default   |
| repo       | dir2     | default   |

A **workspace** allows you to manage multiple states for the same directory. This helps isolate environments such as `dev`, `staging`, and `prod` within the same repository, making infrastructure management more organized.

```
Repository
  |
  |-- Directory 1
  |     |-- Workspace: default
  |
  |-- Directory 2
        |-- Workspace: default
```
:::note
Terrateam executes operations like plan and apply within the context of a Dirspace.
:::
## Changes and File Patterns

When a pull request is opened or updated, Terrateam detects changes based on patterns defined in your `.terrateam/config.yml` file under the `when_modified` configuration. The default configuration looks like:

```yaml
when_modified:
  file_patterns:
    - '**/*.tf'
    - '**/*.tfvars'
```

This configuration tells Terrateam to monitor changes to any files with `.tf` or `.tfvars` extensions. Modify these patterns in your configuration file to match your project's structure.

Terrateam maps detected changes to their appropriate [Dirspaces](/getting-started/concepts#dirspace). These mapped Dirspaces are referred to as Changes. When executing operations, Terrateam only considers Dirspaces with modified files in the pull request.

## Auto-Plan and Auto-Apply

Terrateam offers two configurable automated operations:New chat
  auto_plan: true  # Set to false to disable
  ```
- **Auto-Apply**: (Disabled by default) Runs `terraform apply` post-merge. Enable with:
  ```yaml
  auto_apply: true
  ```

These automated operations streamline workflows while maintaining control through configurable thresholds.

## Locks and Unlocks

Terrateam's locking system prevents concurrent modifications by ensuring only one change can be applied to a resource at a time. This prevents:

- State file conflicts  
- Resource modification races  
- Concurrent apply operations  

**Key behaviors**:
- Enabled by default (no config needed)
- Automatically released after apply + merge
- Force unlock via comment: `terrateam unlock`

```yaml
# .terrateam/config.yml (default shown)
workflows:
  lock_policy: strict  # strict|apply|merge|none
```

For advanced configurations see our [Locks & Concurrency guide](/advanced-workflows/locks-and-concurrency).

:::note
 Default settings work for most teams. Customize only if you need specific lock timing or policies.
:::
## Tags and Tag Sets

Terrateam uses Tags to organize Terraform resources through flexible labeling:

* **Tag Set**: Unordered, unique labels assigned to resources  
  Example: `env:prod, component:network`
* **Tag Query**: Filter to match specific Tag Sets  
  Example: `env:prod` matches all production resources

**Example workflow:**
1. Tag EC2 instances with `resource-type:compute`
2. Create Auto-Scaling Groups with `resource-type:compute, environment:production`
3. Query with `resource-type:compute` to manage all compute resources

Tags enable precise resource management across complex infrastructures.